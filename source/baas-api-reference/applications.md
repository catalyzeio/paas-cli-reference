## Applications
These routes pertain to creating and managing applications. Applications can 
belong to one organization. Developers working on an application can belong to 
one or more organizations. Multiple applications can exist under an organization. 
Developers can have multiple types of roles - admin, billing, developer etc. so 
that their functions and responsibilities can be restricted if necessary. 
Additionally, a PHI specific role is also available so that certain developers 
within certain apps can view PHI data while others canâ€™t. This must be explicitly 
set. We expect to add a lot more detail on user permissions within an application
shortly.

The application model is still evolving as we cover more and more use cases. The current
application model has the following data elements.

NAME | TYPE | DESCRIPTION
-----|------|------------
name | string | The name of your awesome health app
appId | string | This is an autogenerated ID
description | string | Practice your appstore description here 
orgId | string | The id of the org that this app should be under.
secretKey | string | A key that can be used to sign requests. Any request using secret key signing is considered an admin action.
logoFileId | string | You can upload your app logo. This the id of the logo that was uploaded beforehand. Image sizes are restricted to no more than 5MB.
permissions | object | Classifies users into roles. These are comma separated lists of User id's. This is usually done via the app. More fine grained SAML based permissions coming soon.
 | array | user: array of usernames that can only access their own info (eg. patients).
 | array | supervisor: array of usernames representing care givers or personnel like physicians who could have access to individual or aggregate patient data.
limits | object | Gives a set of limits the application cannot exceed pertaining to number of users, storage space, etc.
 | int | userLimit: maximum number of users that can be signed up for this application
 | int | userWarningLevel: The number of users that must be registered before a warning email is sent to admins saying they are close to their user limit
 | int | userWarningStep: After the userWarningLevel is hit, every time userWarningStep number of users signs up, a new email will be sent to admins
 | int | requestsPerUnit: The number of requests from all sources that this application allows
 | int | requestUnitSec: A time frame (in seconds) that the counter for number of requests gets reset. Every requestUnitSec seconds, an application can make requestsPerUnit number of requests
 | int | databaseStorageMB: number of MB this application has for all data excluding files and custom class data
 | int | customClassStorageMB: number of MB this application has for custom class usage
 | int | fileStorageMB: number of MB this application has to store files
inviteOnly | boolean | Flag indicating if users must be invited by an admin to sign up for the application. If true, all users must include an inviteCode in their User creation request
createdAt | timestamp | When the application was created
updatedAt | timestamp | The last time that any information about this application was updated

### List Groups

```javascript
var request = new XMLHttpRequest();

request.open('GET', 'https://api.catalyze.io/v2/app/{appId}/groups');

request.setRequestHeader('X-Api-Key', 'browser api.catalyze.io 525ad5d6993247cccb083e5a');
request.setRequestHeader('Authorization', 'Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2');
request.setRequestHeader('Accept', 'application/json');

request.onreadystatechange = function () {
  if (this.readyState === 4) {
    console.log('Status:', this.status);
    console.log('Headers:', this.getAllResponseHeaders());
    console.log('Body:', this.responseText);
  }
};

request.send();
```

```objc
NSURL *baseUrl = [NSURL URLWithString:@"https://api.catalyze.io"];
AFHTTPRequestOperationManager *httpClient = [[AFHTTPRequestOperationManager alloc] initWithBaseURL:baseUrl];
httpClient.requestSerializer = [AFJSONRequestSerializer serializer];

[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Accept"];
[httpClient.requestSerializer setValue:@"Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2" forHTTPHeaderField:@"Authorization"];
[httpClient.requestSerializer setValue:@"browser api.catalyze.io 525ad5d6993247cccb083e5a" forHTTPHeaderField:@"X-Api-Key"];

httpClient.responseSerializer = [AFHTTPResponseSerializer serializer];

NSString *url = [NSString stringWithFormat:@"/v2%@",@"/app/{appId}/groups"];

NSDictionary *body = @[
    @{
        @"groupsId": @"87a6ac9d-7b12-457b-b509-0a67e485b4de",
        @"name": @"default_group"
    }
]
;

[httpClient GET:url parameters:body success:^(AFHTTPRequestOperation *operation, id responseObject) {
    NSLog(@"Success Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
    NSLog(@"Error: %@", error);
    NSLog(@"Status: %ld", [[operation response] statusCode]);
    NSLog(@"Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
}];
```


#### GET /app/{appId}/groups
Retrieve all groups for an app.

This route requires *Supervisor*-level permissions.

* Parameters
    * appId (required, String) ... {parameter description}


**Response (application/json)**

```json
[
    {
        "groupsId": "87a6ac9d-7b12-457b-b509-0a67e485b4de",
        "name": "default_group"
    }
]
```


### Add a Supervisor

```javascript
var request = new XMLHttpRequest();

request.open('POST', 'https://api.catalyze.io/v2/app/supervisor/{name}');

request.setRequestHeader('X-Api-Key', 'browser api.catalyze.io 525ad5d6993247cccb083e5a');
request.setRequestHeader('Authorization', 'Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2');
request.setRequestHeader('Accept', 'application/json');
request.setRequestHeader('Content-Type', 'application/json');

request.onreadystatechange = function () {
  if (this.readyState === 4) {
    console.log('Status:', this.status);
    console.log('Headers:', this.getAllResponseHeaders());
    console.log('Body:', this.responseText);
  }
};

var body = {};

request.send(JSON.stringify(body));
```

```objc
NSURL *baseUrl = [NSURL URLWithString:@"https://api.catalyze.io"];
AFHTTPRequestOperationManager *httpClient = [[AFHTTPRequestOperationManager alloc] initWithBaseURL:baseUrl];
httpClient.requestSerializer = [AFJSONRequestSerializer serializer];

[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Accept"];
[httpClient.requestSerializer setValue:@"Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2" forHTTPHeaderField:@"Authorization"];
[httpClient.requestSerializer setValue:@"browser api.catalyze.io 525ad5d6993247cccb083e5a" forHTTPHeaderField:@"X-Api-Key"];

httpClient.responseSerializer = [AFHTTPResponseSerializer serializer];

NSString *url = [NSString stringWithFormat:@"/v2%@",@"/app/supervisor/{name}"];

NSDictionary *body = @{};

[httpClient POST:url parameters:body success:^(AFHTTPRequestOperation *operation, id responseObject) {
    NSLog(@"Success Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
    NSLog(@"Error: %@", error);
    NSLog(@"Status: %ld", [[operation response] statusCode]);
    NSLog(@"Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
}];
```


#### POST /app/supervisor/{name}
Add a supervisor to the currently-authenticated application by username.

This route requires *Admin/Dev*-level permissions.

* Parameters
    * name (required, String) ... The username of the user to be added

**Request (application/json)**

* [Headers](#headers)

```json
{}
```

**Response (application/json)**

```json
{}
```


### Remove a Supervisor

```javascript
var request = new XMLHttpRequest();

request.open('DELETE', 'https://api.catalyze.io/v2/app/supervisor/{name}');

request.setRequestHeader('X-Api-Key', 'browser api.catalyze.io 525ad5d6993247cccb083e5a');
request.setRequestHeader('Authorization', 'Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2');
request.setRequestHeader('Accept', 'application/json');

request.onreadystatechange = function () {
  if (this.readyState === 4) {
    console.log('Status:', this.status);
    console.log('Headers:', this.getAllResponseHeaders());
    console.log('Body:', this.responseText);
  }
};

request.send();
```

```objc
NSURL *baseUrl = [NSURL URLWithString:@"https://api.catalyze.io"];
AFHTTPRequestOperationManager *httpClient = [[AFHTTPRequestOperationManager alloc] initWithBaseURL:baseUrl];
httpClient.requestSerializer = [AFJSONRequestSerializer serializer];

[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
[httpClient.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Accept"];
[httpClient.requestSerializer setValue:@"Bearer 0c7f26c8-5b4a-4a32-b35a-2e249448bbf2" forHTTPHeaderField:@"Authorization"];
[httpClient.requestSerializer setValue:@"browser api.catalyze.io 525ad5d6993247cccb083e5a" forHTTPHeaderField:@"X-Api-Key"];

httpClient.responseSerializer = [AFHTTPResponseSerializer serializer];

NSString *url = [NSString stringWithFormat:@"/v2%@",@"/app/supervisor/{name}"];

NSDictionary *body = @{};

[httpClient DELETE:url parameters:body success:^(AFHTTPRequestOperation *operation, id responseObject) {
    NSLog(@"Success Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
    NSLog(@"Error: %@", error);
    NSLog(@"Status: %ld", [[operation response] statusCode]);
    NSLog(@"Response: %@", [NSJSONSerialization JSONObjectWithData:[operation responseData] options:0 error:nil]);
}];
```


#### DELETE /app/supervisor/{name}
Remove a supervisor from the currently-authenticated application by username.

This route requires *Admin/Dev*-level permissions.

* Parameters
    * name (required, String) ... The username of the user to be added


**Response (application/json)**

```json
{}
```



